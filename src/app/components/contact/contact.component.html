<p-toast position="top-right"></p-toast>

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-blue-600 via-blue-700 to-blue-900 overflow-hidden">
  <!-- Decorative Elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="absolute -top-40 -left-40 w-96 h-96 bg-white/10 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-40 -right-40 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full">
      <div class="absolute top-20 left-1/4 w-2 h-2 bg-white/30 rounded-full animate-pulse"></div>
      <div class="absolute top-40 right-1/3 w-3 h-3 bg-white/20 rounded-full animate-pulse delay-300"></div>
      <div class="absolute bottom-32 left-1/2 w-2 h-2 bg-white/40 rounded-full animate-pulse delay-700"></div>
    </div>
  </div>

  <div class="relative container mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-24">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 sm:mb-6 tracking-tight leading-tight">
        Contactez-nous
      </h1>
      <p class="text-base sm:text-lg md:text-xl lg:text-2xl text-blue-100 max-w-2xl mx-auto leading-relaxed px-4">
        Prêt à démarrer votre projet ? Notre équipe d'experts est là pour vous accompagner
      </p>
      <div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 mt-8 sm:mt-10 px-4">
        <p-button
          label="Demander un devis"
          icon="pi pi-arrow-down"
          iconPos="right"
          styleClass="p-button-lg p-button-outlined p-button-rounded w-full sm:w-auto"
          (onClick)="scrollToForm()">
        </p-button>
        <p-button
          label="Appelez-nous"
          icon="pi pi-phone"
          styleClass="p-button-lg p-button-rounded w-full sm:w-auto"
          (onClick)="openWhatsApp()">
        </p-button>
      </div>
    </div>
  </div>

  <!-- Wave Separator -->
  <div class="absolute bottom-0 left-0 right-0">
    <svg class="w-full h-auto" viewBox="0 0 1440 80" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
      <path d="M0 48L60 42C120 36 240 24 360 21C480 18 600 24 720 32C840 40 960 50 1080 48C1200 46 1320 32 1380 25L1440 18V80H1380C1320 80 1200 80 1080 80C960 80 840 80 720 80C600 80 480 80 360 80C240 80 120 80 60 80H0V48Z" fill="#ffffff"/>
    </svg>
  </div>
</section>

<!-- Main Contact Section -->
<section class="bg-white py-8 sm:py-12 lg:py-16">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8 xl:gap-12">

      <!-- Contact Form - Main Area -->
      <div class="lg:col-span-8 w-full">
        <!-- Main Form Card -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
          <!-- Header -->
          <div class="bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-10 relative overflow-hidden">
            <div class="absolute top-0 right-0 w-40 sm:w-64 h-40 sm:h-64 bg-white/10 rounded-full -translate-y-20 translate-x-20"></div>
            <div class="relative z-10">
              <div class="flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3">
                <div class="w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm flex-shrink-0">
                  <i class="pi pi-send text-xl sm:text-2xl text-white"></i>
                </div>
                <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-white m-0">Demande de Devis</h2>
              </div>
              <p class="text-sm sm:text-base lg:text-lg text-blue-100 m-0">
                Partagez-nous votre projet et recevez un devis personnalisé sous 24h
              </p>
            </div>
          </div>

          <!-- Form -->
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="p-4 sm:p-6 lg:p-8 space-y-6 sm:space-y-8">

            <!-- Personal Information -->
            <div>
              <h3 class="text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2">
                <i class="pi pi-user text-blue-600"></i>
                <span>Informations personnelles</span>
              </h3>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5">
                <div class="flex flex-col gap-2">
                  <label for="firstName" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Prénom <span class="text-red-500">*</span>
                  </label>
                  <input
                    pInputText
                    id="firstName"
                    formControlName="firstName"
                    placeholder="Votre prénom"
                    class="w-full"
                    [ngClass]="{'ng-invalid ng-dirty': contactForm.get('firstName')?.invalid && contactForm.get('firstName')?.touched}"
                  />
                  <small class="p-error" *ngIf="contactForm.get('firstName')?.invalid && contactForm.get('firstName')?.touched">
                    Le prénom est requis
                  </small>
                </div>

                <div class="flex flex-col gap-2">
                  <label for="lastName" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Nom <span class="text-red-500">*</span>
                  </label>
                  <input
                    pInputText
                    id="lastName"
                    formControlName="lastName"
                    placeholder="Votre nom"
                    class="w-full"
                    [ngClass]="{'ng-invalid ng-dirty': contactForm.get('lastName')?.invalid && contactForm.get('lastName')?.touched}"
                  />
                  <small class="p-error" *ngIf="contactForm.get('lastName')?.invalid && contactForm.get('lastName')?.touched">
                    Le nom est requis
                  </small>
                </div>

                <div class="flex flex-col gap-2">
                  <label for="email" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Email <span class="text-red-500">*</span>
                  </label>
                  <input
                    pInputText
                    id="email"
                    type="email"
                    formControlName="email"
                    placeholder="votre@email.com"
                    class="w-full"
                    [ngClass]="{'ng-invalid ng-dirty': contactForm.get('email')?.invalid && contactForm.get('email')?.touched}"
                  />
                  <small class="p-error" *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
                    <span *ngIf="contactForm.get('email')?.errors?.['required']">L'email est requis</span>
                    <span *ngIf="contactForm.get('email')?.errors?.['email']">Format d'email invalide</span>
                  </small>
                </div>

                <div class="flex flex-col gap-2">
                  <label for="phone" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Téléphone
                  </label>
                  <input
                    pInputText
                    id="phone"
                    formControlName="phone"
                    placeholder="+221 78 488 67 52"
                    class="w-full"
                  />
                </div>

                <div class="flex flex-col gap-2 sm:col-span-2">
                  <label for="company" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Entreprise / Organisation
                  </label>
                  <input
                    pInputText
                    id="company"
                    formControlName="company"
                    placeholder="Nom de votre entreprise"
                    class="w-full"
                  />
                </div>
              </div>
            </div>

            <p-divider></p-divider>

            <!-- Project Details -->
            <div>
              <h3 class="text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2">
                <i class="pi pi-briefcase text-blue-600"></i>
                <span>Détails du projet</span>
              </h3>
              <div class="space-y-4 sm:space-y-5">
                <div class="flex flex-col gap-2">
                  <label for="service" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Service souhaité <span class="text-red-500">*</span>
                  </label>
                  <p-dropdown
                    [options]="services"
                    formControlName="service"
                    placeholder="Sélectionnez un service"
                    optionLabel="label"
                    optionValue="value"
                    [filter]="true"
                    [showClear]="true"
                    styleClass="w-full"
                    [ngClass]="{'ng-invalid ng-dirty': contactForm.get('service')?.invalid && contactForm.get('service')?.touched}"
                  >
                    <ng-template let-service pTemplate="item">
                      <div class="flex items-center gap-3 py-2">
                        <i [class]="service.icon + ' text-blue-600 text-xl'"></i>
                        <div>
                          <div class="font-semibold">{{service.label}}</div>
                          <div class="text-sm text-gray-500">{{service.description}}</div>
                        </div>
                      </div>
                    </ng-template>
                  </p-dropdown>
                  <small class="p-error" *ngIf="contactForm.get('service')?.invalid && contactForm.get('service')?.touched">
                    Veuillez sélectionner un service
                  </small>
                </div>

                <div class="flex flex-col gap-2">
                  <label for="project" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Description du projet <span class="text-red-500">*</span>
                  </label>
                  <textarea
                    pInputTextarea
                    id="project"
                    formControlName="project"
                    [rows]="5"
                    placeholder="Décrivez votre projet en détail..."
                    class="w-full"
                    [autoResize]="true"
                    [ngClass]="{'ng-invalid ng-dirty': contactForm.get('project')?.invalid && contactForm.get('project')?.touched}"
                  ></textarea>
                  <small class="p-error" *ngIf="contactForm.get('project')?.invalid && contactForm.get('project')?.touched">
                    La description du projet est requise
                  </small>
                  <small class="text-gray-500 text-xs sm:text-sm">
                    {{contactForm.get('project')?.value?.length || 0}} caractères
                  </small>
                </div>

                <div class="flex flex-col gap-2">
                  <label for="budget" class="font-semibold text-gray-700 text-sm sm:text-base">
                    Budget approximatif
                  </label>
                  <p-dropdown
                    [options]="budgetRanges"
                    formControlName="budget"
                    placeholder="Sélectionnez une fourchette (optionnel)"
                    optionLabel="label"
                    optionValue="value"
                    [showClear]="true"
                    styleClass="w-full"
                  ></p-dropdown>
                </div>
              </div>
            </div>

            <!-- Submit -->
            <div class="flex flex-col sm:flex-row gap-3 items-center justify-between pt-6 border-t border-gray-200">
              <div class="flex items-center gap-2 text-sm text-gray-600 order-2 sm:order-1">
                <i class="pi pi-lock text-blue-600"></i>
                <span>Vos données sont sécurisées</span>
              </div>
              <p-button
                type="submit"
                label="Envoyer ma demande"
                icon="pi pi-send"
                iconPos="right"
                styleClass="p-button-lg w-full sm:w-auto order-1 sm:order-2"
                [disabled]="contactForm.invalid"
                [loading]="isSubmitting"
              ></p-button>
            </div>
          </form>
        </div>

      </div>

      <!-- Sidebar -->
      <div class="lg:col-span-4 space-y-4 sm:space-y-6">

        <!-- Quick Contact -->
        <div class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl p-6 shadow-xl text-white">
          <div class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4">
            <i class="pi pi-bolt text-3xl"></i>
          </div>
          <h3 class="text-2xl font-bold mb-3">Besoin urgent ?</h3>
          <p class="text-blue-100 mb-6">Contactez-nous directement</p>
          <div class="space-y-3">
            <p-button
              label="WhatsApp Direct"
              icon="pi pi-whatsapp"
              styleClass="w-full p-button-success p-button-lg"
              (onClick)="openWhatsApp()"
            ></p-button>
            <p-button
              label="Planifier un appel"
              icon="pi pi-calendar"
              styleClass="w-full p-button-outlined p-button-lg"
            ></p-button>
          </div>
        </div>

        <!-- Contact Cards -->
        <div class="bg-white rounded-2xl p-5 shadow-lg border border-blue-100">
          <div class="flex items-center gap-2 mb-4">
            <i class="pi pi-phone text-xl text-blue-600"></i>
            <h3 class="text-lg font-bold text-gray-800">Téléphone</h3>
          </div>
          <p class="text-gray-700 font-medium mb-1">+221 07 59 19 40 84</p>
          <p class="text-gray-700 font-medium mb-2">+221 78 488 67 52</p>
          <small class="text-gray-500">Lun-Ven: 8h-18h</small>
        </div>

        <div class="bg-white rounded-2xl p-5 shadow-lg border border-blue-100">
          <div class="flex items-center gap-2 mb-4">
            <i class="pi pi-envelope text-xl text-blue-600"></i>
            <h3 class="text-lg font-bold text-gray-800">Email</h3>
          </div>
          <p class="text-gray-700 font-medium mb-1 break-all">contact&#64;memkotech.com</p>
          <p class="text-gray-700 font-medium mb-2 break-all">devis&#64;memkotech.com</p>
          <small class="text-gray-500">Réponse sous 24h</small>
        </div>

        <div class="bg-white rounded-2xl p-5 shadow-lg border border-blue-100">
          <div class="flex items-center gap-2 mb-4">
            <i class="pi pi-map-marker text-xl text-blue-600"></i>
            <h3 class="text-lg font-bold text-gray-800">Adresse</h3>
          </div>
          <p class="text-gray-700 font-medium mb-1">Abidjan, Côte d'Ivoire</p>
          <p class="text-gray-700 font-medium mb-2">Dakar, Sénégal</p>
          <small class="text-gray-500">Rendez-vous sur demande</small>
        </div>

        <div class="bg-white rounded-2xl p-5 shadow-lg border border-blue-100">
          <div class="flex items-center gap-2 mb-4">
            <i class="pi pi-clock text-xl text-blue-600"></i>
            <h3 class="text-lg font-bold text-gray-800">Horaires</h3>
          </div>
          <p class="text-gray-700 font-medium mb-1">Lun-Ven: 8h00 - 18h00</p>
          <p class="text-gray-700 font-medium mb-2">Samedi: 9h00 - 13h00</p>
          <small class="text-gray-500">Support 24/7 premium</small>
        </div>

        <!-- FAQ -->
        <div class="bg-white rounded-2xl p-5 shadow-lg border border-blue-100">
          <div class="flex items-center gap-2 mb-4">
            <i class="pi pi-question-circle text-xl text-blue-600"></i>
            <h3 class="text-lg font-bold text-gray-800">FAQ</h3>
          </div>
          <p-accordion [multiple]="true">
            <p-accordionTab *ngFor="let faq of quickFAQ" [header]="faq.question">
              <p class="text-gray-600 m-0">{{faq.answer}}</p>
            </p-accordionTab>
          </p-accordion>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Process Section -->
<section class="bg-gradient-to-br from-blue-50 to-white py-16">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-3xl mx-auto mb-12">
      <div class="inline-flex w-16 h-16 bg-blue-100 rounded-2xl items-center justify-center mb-6">
        <i class="pi pi-chart-line text-3xl text-blue-600"></i>
      </div>
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Comment ça marche ?</h2>
      <p class="text-lg text-gray-600">Un processus simple et transparent</p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6">
      <div *ngFor="let step of processSteps; let i = index" class="bg-white rounded-2xl p-6 shadow-lg border border-blue-100 text-center hover:shadow-xl transition-shadow">
        <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-800 text-white rounded-2xl flex items-center justify-center text-2xl font-bold mx-auto mb-4">
          {{i + 1}}
        </div>
        <div class="mb-4">
          <i [class]="step.icon + ' text-4xl text-blue-600'"></i>
        </div>
        <h3 class="text-lg font-bold text-gray-800 mb-3">{{step.title}}</h3>
        <p class="text-sm text-gray-600 mb-4">{{step.description}}</p>
        <p-tag [value]="step.duration" icon="pi pi-clock" severity="info"></p-tag>
      </div>
    </div>

    <div class="mt-12 text-center">
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <p-button
          label="Commencer maintenant"
          icon="pi pi-arrow-right"
          iconPos="right"
          styleClass="p-button-lg"
          (onClick)="scrollToForm()"
        ></p-button>
        <p-button
          label="Voir nos réalisations"
          icon="pi pi-eye"
          styleClass="p-button-lg p-button-outlined"
        ></p-button>
      </div>
    </div>
  </div>
</section>

<!-- Social Proof -->
<section class="bg-white py-16">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-4xl font-bold text-blue-600 mb-2">50+</div>
        <div class="text-sm text-gray-700">Clients satisfaits</div>
      </div>
      <div class="text-center">
        <div class="text-4xl font-bold text-blue-600 mb-2">100+</div>
        <div class="text-sm text-gray-700">Projets livrés</div>
      </div>
      <div class="text-center">
        <div class="text-4xl font-bold text-blue-600 mb-2">98%</div>
        <div class="text-sm text-gray-700">Taux de satisfaction</div>
      </div>
      <div class="text-center">
        <div class="text-4xl font-bold text-blue-600 mb-2">24/7</div>
        <div class="text-sm text-gray-700">Support disponible</div>
      </div>
    </div>
  </div>
</section>
